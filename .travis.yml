language: node_js
node_js:
- '7'
before_install:
# TODO OSS
# - npm i npm-cli-login -g
# - npm-cli-login -u "${NPM_USER}" -p "${NPM_PASSWORD}" -e "${NPM_EMAIL}"
# - npm who
- echo "registry = https://realglobe.artifactoryonline.com/realglobe/api/npm/npm-virtual" > $HOME/.npmrc
- curl -u${NPM_USER}:${NPM_PASSWORD} "https://realglobe.artifactoryonline.com/realglobe/api/npm/auth" >> $HOME/.npmrc
- cat $HOME/.npmrc
install:
- npm install jsdoc -g
- npm install pon-cli -g
- npm install
script:
- npm run build
- npm run test
after_success:
- ./ci/travis/publish.js
env:
  secure: "dnxcjwYUTJIMLuiHSL2WMhJpVGvuH0tGOTOtwrgTQeA2RkGUjCHA5oCAc+NMqMGf9DHDRUGaFwXdxSJJfwvUvJjFPVQ9tDLdqIoBh1Vt0MVfENCuHr7vfoTipMm/WGs8pOtpB+X/Wd4LfcHmCbmRSkZdVwFLxeJRRuo+h5K1Vkt4jOyAFavZ8O+KUrAES+QEXGtgvFhjuyK78+9GiFVf76iL6btGV92SCWMzS/cph0gPoHIIHO3vC+njBL3YW/x6iXHvzlSPKbgH2hEYtqbDme/uM2togGrugooeNEtf1pZ8VxWWU4yp0iydI1qJSUtBk/TlTsGUt7+m1ipb/YmyebzyDYKKNrZsdC1Cn9IaLFDaXnA/2qKSnHrN6A9ZJ2tJS9Z3tJXagHkISQx1ZJS+hZMd4bMbVQ5NOqGRLsYMXOHcAOXD8K6Y0E81f0WwTyFU8NsqqjHZ+myKIkkKTnljjKvzcKIuSHGzML2d5xj25+gK+ES1t4ITK9mjvsjTN9yQJaUQIShPoHHkpCxV7q54sTY5Exdt8t7IoGcAFla9XE2x6T1n1K2paU+o8pywlkfY0BkTcZDIII10ixyE8bFA+QKeIpj6QSos+Al8TyZ5DCwDsnCqIrp1xXQXNkUWnuEgh0NAac2bqAxl9GWvfIWEkZR5SP9fG2bwe6bSS2tXK/U="