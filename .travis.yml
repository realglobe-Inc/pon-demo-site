language: node_js
node_js:
- '7'
before_install:
# TODO OSS
# - npm i npm-cli-login -g
# - npm-cli-login -u "${NPM_USER}" -p "${NPM_PASSWORD}" -e "${NPM_EMAIL}"
# - npm who
- echo "registry = https://realglobe.artifactoryonline.com/realglobe/api/npm/npm-virtual" > $HOME/.npmrc
- curl -u${NPM_USER}:${NPM_PASSWORD} "https://realglobe.artifactoryonline.com/realglobe/api/npm/auth" >> $HOME/.npmrc
- cat $HOME/.npmrc
install:
- npm install jsdoc -g
- npm install pon-cli -g
- npm install
script:
- npm run build
- npm run test
after_success:
- ./ci/travis/publish.js
env:
  secure: "ghNtJgbofHMGxM1J6rnVpJZjTXhD20X/X0DT8ymRcI7h8VdCBj14DvTxskht29kcF07LECrDxXZuxplBiZGJ7d1IE2PrGjgGOo9JC7ZdfLe+wb8SCo/0M7XLNNPetgCH3B25xUcMOOK06d7lOTID+BziK2vwvheBN1nnW2YoCyIwtzf8u1MHfuOF/GcMdbQbB3hUZzbIkzEL7uMcU/e7q8QF4zt/yfq99luDFPvLdMFSBGO+vuAxjf36Cp8+Iw4/IinOuKFcjkRV2gJkUxN83dR88nubsmN4x4tp/pFUGbHPvgLGgl9QcF7lql1U4E3dnhDxbJDUnhoeyQyXWtZ3kdnGxxE+8rukd1rtGSONhzI26ZeK2//4FI54HisfdZfs55YujiwYHcf5SGoal4XUVNxPXqk04uY4uec9imeloHG/6J/0bf9rL0j9K6DdfRa8BR94ngabGhWflt7ab1jKY/DuQUm+hQFH5W20K4b+lr9s7R1/nXIbfRBydNVZ7/xn3Ua6TSkcbiilxpK7+y5YXFdNXth85feYWTaJPWkSz1oOxUH90JgHW/4TSlNf4ZeGJQwqQgUndzuuagbqviynCZbIMIYtsPbox+36PCYpZ3U2rWkoEHDWZxNqG6m9t6yjm7Gm1W0TpaUFBmmjPjo1xN+wLk/59bDMqxBlicDTK70="
